---
phase: 06-carousel-navigation
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/ui/pages/Dashboard.tsx
autonomous: false

must_haves:
  truths:
    - "Opening mobile view defaults to heatmap slide (NAV-03)"
    - "Swiping left shows muscle list, swiping right shows heatmap"
    - "Dot indicators correctly show which slide is active"
    - "Carousel replaces standalone MobileHeatmap in Dashboard"
  artifacts:
    - path: "src/ui/pages/Dashboard.tsx"
      provides: "Dashboard with MobileCarousel integration"
      contains: "MobileCarousel"
  key_links:
    - from: "src/ui/pages/Dashboard.tsx"
      to: "src/ui/components/mobile/MobileCarousel.tsx"
      via: "component import and render"
      pattern: "import.*MobileCarousel"
---

<objective>
Integrate MobileCarousel into Dashboard, replacing standalone MobileHeatmap for mobile users.

Purpose: Connect the carousel to the app and verify default-to-heatmap behavior (NAV-03)
Output: Dashboard renders MobileCarousel on mobile, user can swipe between views
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-carousel-navigation/06-01-SUMMARY.md

@src/ui/pages/Dashboard.tsx
@src/ui/components/mobile/MobileCarousel.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace MobileHeatmap with MobileCarousel in Dashboard</name>
  <files>src/ui/pages/Dashboard.tsx</files>
  <action>
1. Update imports in Dashboard.tsx:
   - Remove: `import { MobileHeatmap } from '@ui/components/mobile/MobileHeatmap';`
   - Add: `import { MobileCarousel } from '@ui/components/mobile/MobileCarousel';`

2. Replace the mobile view render (around line 85-86):
   - Before: `<MobileHeatmap profileId={currentProfile.id} />`
   - After: `<MobileCarousel profileId={currentProfile.id} />`

3. No other changes needed - MobileCarousel receives same props as MobileHeatmap.
  </action>
  <verify>
    - `npm run build` succeeds
    - `npm run lint` passes
    - Dashboard.tsx imports MobileCarousel
  </verify>
  <done>
    - Dashboard renders MobileCarousel for mobile users
    - MobileHeatmap import removed from Dashboard
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Swipeable carousel navigation between heatmap and muscle list on mobile devices.
  </what-built>
  <how-to-verify>
1. Start dev server: `npm run dev`
2. Open http://localhost:3000 in Chrome DevTools mobile emulator (iPhone 12 or similar)
3. Navigate to Dashboard (you need a profile with workout data)
4. Verify NAV-03: Heatmap view is shown by default (body diagram visible)
5. Verify NAV-01: Swipe left - muscle list slides in smoothly
6. Verify NAV-01: Swipe right - heatmap slides back
7. Verify NAV-02: Dot indicators at bottom show correct active state
8. Tap the right dot - should scroll to muscle list
9. Tap the left dot - should scroll to heatmap
10. Verify swipe feels smooth with momentum (not jerky or abrupt)
11. Verify muscle list groups expand/collapse normally within carousel
12. Verify front/back toggle on heatmap still works within carousel
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
```bash
# Build passes
npm run build

# Lint passes
npm run lint

# Dashboard imports carousel
grep "MobileCarousel" src/ui/pages/Dashboard.tsx

# MobileHeatmap no longer directly imported in Dashboard
! grep "import.*MobileHeatmap" src/ui/pages/Dashboard.tsx
```
</verification>

<success_criteria>
- Dashboard.tsx renders MobileCarousel instead of MobileHeatmap for mobile
- Opening dashboard on mobile shows heatmap first (NAV-03)
- User can swipe horizontally between heatmap and list (NAV-01)
- Dot indicators show current slide position (NAV-02)
- Existing functionality preserved (toggle, expand/collapse)
- Human verification confirms smooth UX
</success_criteria>

<output>
After completion, create `.planning/phases/06-carousel-navigation/06-02-SUMMARY.md`
</output>
